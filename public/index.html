<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Это неправильные пчелы</title>
    <meta name="generator" content="Hugo 0.29" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Roman Gershman">
    
      <meta name="description" content="These bees are wrong">
    
    
      <link href="https://www.romange.com/index.xml" rel="alternate" type="application/rss+xml" title="Это неправильные пчелы" />
      <link href="https://www.romange.com/index.xml" rel="feed" type="application/rss+xml" title="Это неправильные пчелы" />
    
    <link rel="canonical" href="https://www.romange.com/"/>
    <link rel="icon" href="https://www.romange.com/favicon.ico">
    <link rel="apple-touch-icon" href="https://www.romange.com/apple-touch-icon.png"/>
    <link rel="stylesheet" href="https://www.romange.com/css/style.css">
    <link rel="stylesheet" href="https://www.romange.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.romange.com/css/monokai.css">
    <link rel="stylesheet" href="https://www.romange.com/fancybox/jquery.fancybox.css">
    
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
    <meta property="og:title" content="Это неправильные пчелы" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.romange.com/" />



<meta property="og:updated_time" content="2017-09-29T15:46:55&#43;03:00"/>










    
    
<meta itemprop="name" content="Это неправильные пчелы">
<meta itemprop="description" content="">


    <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Это неправильные пчелы"/>
<meta name="twitter:description" content=""/>

    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
<div class="container">


<div id="container">
	<header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="https://www.romange.com/" id="logo">
          
          <i class="logo" style="background-image: url('https://www.romange.com/css/images/7.png')"></i>
          
          <span class="site-title">Это неправильные пчелы</span>
      </a>
      <nav id="main-nav">
          
          
          <a class="main-nav-link" href="https://www.romange.com/blog">Home</a>
          
          
          
          
          
          

          

          
          
          
          
          <a class="main-nav-link" href="https://www.romange.com/tags/">Tags</a>
          
          
          
          <a class="main-nav-link" href="https://www.romange.com/about/">About</a>
          
          
      </nav>
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="https://www.romange.com/css/images/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
              <input type="search" name="q" class="search-form-input" placeholder="Search">
              <button type="submit" class="search-form-submit">
              </button>
              <input type="hidden" name="sitesearch" value="https://www.romange.com/" />
         </form>
        </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tbody>
          <tr>
          
          
          <td><a class="main-nav-link" href="https://www.romange.com/blog">Home</a></td>
          
          
          
          
          
          

          

          
          
          
          
          <td><a class="main-nav-link" href="https://www.romange.com/tags/">Tags</a></td>
          
          
          
          <td><a class="main-nav-link" href="https://www.romange.com/about/">About</a></td>
          
          
          <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
          <input type="search" name="q" class="search-form-input" placeholder="Search">
          <input type="hidden" name="sitesearch" value="https://www.romange.com/" />
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</header>

   	
   	<div class="outer">
   	
    	<aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      
      <img id="avatar" src="https://www.gravatar.com/avatar/4a203a48eb1cdb1b8c47d008f0c139c9?s=100&d=identicon"/>
      
      <h2 id="name">Roman Gershman</h2>
      <h3 id="title">Programmer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Tel Aviv</span>
      
          <a id="follow" href="https://github.com/romange">
              Follow
          </a>
      
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        3
        <span>Posts</span>
      </div>
      <div class="article-info-block">
        
          6
        
        <span>
            Tags
        </span>
      </div>
    </div>
    <div class="profile-block social-links">
      <table>
        <tr>
          
<td><a href="//github.com/romange" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>




















































          <td><a href="https://www.romange.com/index.xml" target="_blank" title="RSS"><i class="fa fa-rss"></i></a></td>
        </tr>
      </table>
    </div>
  </div>
</aside>

    

    
       <section id="main">
    

    
    

<article class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        </a>

        <header class="article-header">
    <a href="https://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/">
    <h1 class="article-title" itemprop="name">
        Reloading data structures under high throughput
    </h1>
    </a>
    <div class="article-meta">

        
        <div class="article-date">
            <i class="fa fa-calendar"></i>
            <time datetime="2017-09-29 15:46:55 &#43;0300 IDT" itemprop="datePublished">Sep 29nd 2017</time>
            &middot;
            1184
            words
            &middot;
            6
            minute read
        </div>
        
        
            
            
        

        
            
            
            <div class="article-category">
                <i class="fa fa-tags"></i>
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/c&#43;&#43;">c&#43;&#43;</a>
                &middot;
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/concurrency">concurrency</a>
                &middot;
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/backend">backend</a>
                
                
            </div>
            
        
    </div>
</header>

        <div class="article-entry" itemprop="articleBody">
            <p>
                <p>Suppose you have a multi-threaded server that serves tens of thousands read queries per second. Those queries use a shared data-structure or index that is mostly immutable during the server run with the exception of periodic index reloads.  How do you implement data reloads in that server while keeping it live and kicking in production?</p>

<p></p>
            </p>
            <p class="article-more-link">
                <a href="https://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/">
                    Read more
                </a>
            </p>
        </div>
        <footer class="article-footer">
    <a data-url="https://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/" data-id="88f7f46386a436887c0e105d375a6913" class="article-share-link">
        <i class="fa fa-share"></i>
        Share
    </a>
    
    <a href="https://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/#disqus_thread" class="article-comment-link">
        Comments
    </a>
    

    <script>
    (function ($) {
        
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
    </script>
</footer>

    </div>
</article>

<article class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        </a>

        <header class="article-header">
    <a href="https://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/">
    <h1 class="article-title" itemprop="name">
        How to serialize integers into memory
    </h1>
    </a>
    <div class="article-meta">

        
        <div class="article-date">
            <i class="fa fa-calendar"></i>
            <time datetime="2017-09-26 22:46:30 &#43;0300 IDT" itemprop="datePublished">Sep 26nd 2017</time>
            &middot;
            508
            words
            &middot;
            3
            minute read
        </div>
        
        
            
            
        

        
            
            
            <div class="article-category">
                <i class="fa fa-tags"></i>
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/c&#43;&#43;">c&#43;&#43;</a>
                &middot;
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/code-generation">code generation</a>
                &middot;
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/programming">programming</a>
                
                
            </div>
            
        
    </div>
</header>

        <div class="article-entry" itemprop="articleBody">
            <p>
                <p>Here is the analysis of a recent bug that happenned to me. My initial reaction was that
the compiler had a bug (or that <a href="https://www.youtube.com/watch?v=PIuE5J9dfAo">&ldquo;These are wrong bees&rdquo;</a>).
Consider the code below. We copy 64 integers into a properly allocated destination buffer and yet,
if compiled with <code>-O3</code> switch this code crahes with segfault!.</p>

<p></p>
            </p>
            <p class="article-more-link">
                <a href="https://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/">
                    Read more
                </a>
            </p>
        </div>
        <footer class="article-footer">
    <a data-url="https://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/" data-id="c995a164608cdde5b3c54dc7769cb485" class="article-share-link">
        <i class="fa fa-share"></i>
        Share
    </a>
    
    <a href="https://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/#disqus_thread" class="article-comment-link">
        Comments
    </a>
    

    <script>
    (function ($) {
        
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
    </script>
</footer>

    </div>
</article>

<article class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        </a>

        <header class="article-header">
    <a href="https://www.romange.com/2017/09/26/my-first-post/">
    <h1 class="article-title" itemprop="name">
        My first post
    </h1>
    </a>
    <div class="article-meta">

        
        <div class="article-date">
            <i class="fa fa-calendar"></i>
            <time datetime="2017-09-26 16:16:40 &#43;0300 IDT" itemprop="datePublished">Sep 26nd 2017</time>
            &middot;
            30
            words
            &middot;
            1
            minute read
        </div>
        
        
            
            
        

        
            
            
            <div class="article-category">
                <i class="fa fa-tags"></i>
                
                
                <a class="article-category-link" href="https://www.romange.com/tags/blogging">blogging</a>
                
                
            </div>
            
        
    </div>
</header>

        <div class="article-entry" itemprop="articleBody">
            <p>
                <p>Hi it&rsquo;s my first attemp at blogging. I&rsquo;ve chosen <a href="https://gohugo.io/">Hugo</a> with
<a href="https://github.com/digitalcraftsman/hugo-icarus-theme">Icarus theme</a> for the content generation.
This blog is going to be published vi my <a href="https://github.com/romange/blog">github repository</a>.
Stay tuned!</p>

<p></p>
            </p>
            <p class="article-more-link">
                <a href="https://www.romange.com/2017/09/26/my-first-post/">
                    Read more
                </a>
            </p>
        </div>
        <footer class="article-footer">
    <a data-url="https://www.romange.com/2017/09/26/my-first-post/" data-id="be3d5cf9cd6acbc273a36563933ffdd6" class="article-share-link">
        <i class="fa fa-share"></i>
        Share
    </a>
    
    <a href="https://www.romange.com/2017/09/26/my-first-post/#disqus_thread" class="article-comment-link">
        Comments
    </a>
    

    <script>
    (function ($) {
        
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
    </script>
</footer>

    </div>
</article>


<nav id="page-nav">

</nav>


    </section>

   	
    	<aside id="sidebar">
    
<div class="widget-wrap">
    <h3 class="widget-title">
        Recents
    </h3>
    <div class="widget">
        <ul id="recent-post">
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="https://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/" class="title">Reloading data structures under high throughput</a></p>
                    <p class="item-date">
                        <time datetime="2017-09-29 15:46:55 &#43;0300 IDT" itemprop="datePublished">Sep 29nd 2017</time>
                    </p>
                </div>
            </li>
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="https://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/" class="title">How to serialize integers into memory</a></p>
                    <p class="item-date">
                        <time datetime="2017-09-26 22:46:30 &#43;0300 IDT" itemprop="datePublished">Sep 26nd 2017</time>
                    </p>
                </div>
            </li>
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="https://www.romange.com/2017/09/26/my-first-post/" class="title">My first post</a></p>
                    <p class="item-date">
                        <time datetime="2017-09-26 16:16:40 &#43;0300 IDT" itemprop="datePublished">Sep 26nd 2017</time>
                    </p>
                </div>
            </li>
            
        </ul>
    </div>
</div>


    





    


<div class="widget-wrap">
    <h3 class="widget-title">
        Tags
    </h3>
    <div class="widget">
        <ul class="category-list">
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="https://www.romange.com/tags/backend">
                    backend
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="https://www.romange.com/tags/blogging">
                    blogging
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="https://www.romange.com/tags/c&#43;&#43;">
                    c&#43;&#43;
                </a>
                <span class="category-list-count">2</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="https://www.romange.com/tags/code-generation">
                    code-generation
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="https://www.romange.com/tags/concurrency">
                    concurrency
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="https://www.romange.com/tags/programming">
                    programming
                </a>
                <span class="category-list-count">1</span>
            </li>
            
        </ul>
    </div>
</div>




    


<div class="widget-wrap">
    <h3 class="widget-title">
        Tag cloud
    </h3>
    <div class="widget tagcloud">
        
        
        <a href="https://www.romange.com/tags/backend" style="font-size: 12px;">backend</a>
        
        
        <a href="https://www.romange.com/tags/blogging" style="font-size: 12px;">blogging</a>
        
        
        <a href="https://www.romange.com/tags/c&#43;&#43;" style="font-size: 12px;">c&#43;&#43;</a>
        
        
        <a href="https://www.romange.com/tags/code-generation" style="font-size: 12px;">code-generation</a>
        
        
        <a href="https://www.romange.com/tags/concurrency" style="font-size: 12px;">concurrency</a>
        
        
        <a href="https://www.romange.com/tags/programming" style="font-size: 12px;">programming</a>
        
    </div>
</div>





    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

    
	</div>
</div>

<footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017
      Roman Gershman
    </div>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-107146718-1', 'auto');
ga('send', 'pageview');
</script>

<script src="https://www.romange.com/fancybox/jquery.fancybox.pack.js"></script>
<script src="https://www.romange.com/js/script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>


<script>hljs.initHighlightingOnLoad();</script>





</body>
</html>