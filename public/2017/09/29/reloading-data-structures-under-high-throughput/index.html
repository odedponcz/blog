<!DOCTYPE html>
<html lang="en-us">
<head>
    <title>Reloading data structures under high throughput &middot; Это неправильные пчелы</title>
    <meta name="generator" content="Hugo 0.40.1" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Roman Gershman">
    
      <meta name="description" content="These bees are wrong">
    
    
    <link rel="canonical" href="http://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/"/>
    <link rel="icon" href="http://www.romange.com/favicon.ico">
    <link rel="apple-touch-icon" href="http://www.romange.com/apple-touch-icon.png"/>
    <link rel="stylesheet" href="http://www.romange.com/css/style.css">
    <link rel="stylesheet" href="http://www.romange.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://www.romange.com/css/monokai.css">
    <link rel="stylesheet" href="http://www.romange.com/fancybox/jquery.fancybox.css">
    
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
    <meta property="og:title" content="Reloading data structures under high throughput" />
<meta property="og:description" content="Suppose you have a multi-threaded server that serves tens of thousands read queries per second. Those queries use a shared data-structure or index that is mostly immutable during the server run with the exception of periodic index reloads.  How do you implement data reloads in that server while keeping it live and kicking in production?

" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/" />



<meta property="article:published_time" content="2017-09-29T15:46:55&#43;03:00"/>

<meta property="article:modified_time" content="2017-09-29T15:46:55&#43;03:00"/>











    
    
<meta itemprop="name" content="Reloading data structures under high throughput">
<meta itemprop="description" content="Suppose you have a multi-threaded server that serves tens of thousands read queries per second. Those queries use a shared data-structure or index that is mostly immutable during the server run with the exception of periodic index reloads.  How do you implement data reloads in that server while keeping it live and kicking in production?

">


<meta itemprop="datePublished" content="2017-09-29T15:46:55&#43;03:00" />
<meta itemprop="dateModified" content="2017-09-29T15:46:55&#43;03:00" />
<meta itemprop="wordCount" content="0">



<meta itemprop="keywords" content="c&#43;&#43;,concurrency,backend," />

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Reloading data structures under high throughput"/>
<meta name="twitter:description" content="Suppose you have a multi-threaded server that serves tens of thousands read queries per second. Those queries use a shared data-structure or index that is mostly immutable during the server run with the exception of periodic index reloads.  How do you implement data reloads in that server while keeping it live and kicking in production?

"/>

    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
<div class="container">


<div id="container">
	<header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="http://www.romange.com/" id="logo">
          
          <i class="logo" style="background-image: url('http://www.romange.com/css/images/7.png')"></i>
          
          <span class="site-title">Это неправильные пчелы</span>
      </a>
      <nav id="main-nav">
          
          
          
          
          

          

          
          
          <a class="main-nav-link" href="http://www.romange.com/tags/">Tags</a>
          
          
          
          <a class="main-nav-link" href="http://www.romange.com/about/">About</a>
          
          
      </nav>
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="http://www.romange.com/css/images/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
              <input type="search" name="q" class="search-form-input" placeholder="Search">
              <button type="submit" class="search-form-submit">
              </button>
              <input type="hidden" name="sitesearch" value="http://www.romange.com/" />
         </form>
        </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tbody>
          <tr>
          
          
          
          
          

          

          
          
          <td><a class="main-nav-link" href="http://www.romange.com/tags/">Tags</a></td>
          
          
          
          <td><a class="main-nav-link" href="http://www.romange.com/about/">About</a></td>
          
          
          <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form">
          <input type="search" name="q" class="search-form-input" placeholder="Search">
          <input type="hidden" name="sitesearch" value="http://www.romange.com/" />
          </form>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</header>

   	
   	<div class="outer">
   	
    	<aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      
      <img id="avatar" src="https://www.gravatar.com/avatar/4a203a48eb1cdb1b8c47d008f0c139c9?s=100&d=identicon"/>
      
      <h2 id="name">Roman Gershman</h2>
      <h3 id="title">Programmer</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Tel Aviv</span>
      
          <a id="follow" href="https://github.com/romange">
              Follow
          </a>
      
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        5
        <span>Posts</span>
      </div>
      <div class="article-info-block">
        
          10
        
        <span>
            Tags
        </span>
      </div>
    </div>
    <div class="profile-block social-links">
      <table>
        <tr>
          
<td><a href="//github.com/romange" target="_blank" title="GitHub"><i class="fa fa-github"></i></a></td>




















































          <td><a href="http://www.romange.com/index.xml" target="_blank" title="RSS"><i class="fa fa-rss"></i></a></td>
        </tr>
      </table>
    </div>
  </div>
</aside>

    

    
       <section id="main">
    

    
    <article id="page-undefined" class="article article-type-page" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        

        <header class="article-header">
    <a href="http://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/">
    <h1 class="article-title" itemprop="name">
        Reloading data structures under high throughput
    </h1>
    </a>
    <div class="article-meta">

        
        <div class="article-date">
            <i class="fa fa-calendar"></i>
            <time datetime="2017-09-29 15:46:55 &#43;0300 IDT" itemprop="datePublished">Sep 29nd 2017</time>
            &middot;
            0
            words
            &middot;
            0
            minute read
        </div>
        
        
            
            
        

        
            
            
            <div class="article-category">
                <i class="fa fa-tags"></i>
                
                
                <a class="article-category-link" href="http://www.romange.com/tags/c&#43;&#43;">c&#43;&#43;</a>
                &middot;
                
                
                <a class="article-category-link" href="http://www.romange.com/tags/concurrency">concurrency</a>
                &middot;
                
                
                <a class="article-category-link" href="http://www.romange.com/tags/backend">backend</a>
                
                
            </div>
            
        
    </div>
</header>

        <div class="article-entry" itemprop="articleBody">
            <p>Suppose you have a multi-threaded server that serves tens of thousands read queries per second. Those queries use a shared data-structure or index that is mostly immutable during the server run with the exception of periodic index reloads.  How do you implement data reloads in that server while keeping it live and kicking in production?</p>

<p></p>

<p>Obviously, if your data structure is thread-safe and allows mutations while correctly serving reads
then the problem solved. However, it often happens that either the data structure is not thread-safe or its safety guarantees do now allow seamless reads during relatively slow reloads.</p>

<p>Lets examine possible solutions to this problem:</p>

<h3 id="shared-mutex">Shared mutex</h3>

<p>First, we can not use exclusive mutex to lock the index due to possibly huge contention in the read path: each query thread will require read access to our index and with the exclusive mutex it will stall all other threads until it finishes reading from the index.
<code>shared_mutex</code> will solve this problem, however the reload operation will still need to lock the index exclusively (see below). During that period the read path will be blocked and we came back to the original problem - having stalled reads during reloads.</p>

<pre><code class="language-cpp">
// Query Thread
std::shared_lock&lt;std::shared_mutex&gt; lock(mutex_);   // will block on Reload!
auto res = index_.Query(arg);

.....................

// Reload thread.
std::unique_lock&lt;std::shared_mutex&gt; lock(mutex_);
index.UpdateFromFile(file_name);

</code></pre>

<h3 id="managing-a-pointer-to-immutable-index">managing a pointer to immutable index.</h3>

<p>If we allow eventual consistency and our memory capacity can hold 2 indices at the same time we can solve the problem by adding a level of indirection: instead of changing the data structure, we will swap a pointer to our always immutable index.
The naive solution could looks like this:</p>

<pre><code class="language-cpp">
std::atomic&lt;Index*&gt; index_ptr_;

// Query Thread
Index* index = index_ptr_-&gt;load();
auto res = index-&gt;Query(arg);   // index can be invalid here.
................

// Reload thread.
Index* new_index = new Index(); // At this point we have 2 indices in RAM
new_index-&gt;UpdateFromFile(file_name);

new_index = atomic_exchange(&amp;index_ptr_, new_index);  // Swap the pointers.

delete new_index;   // delete the previous index object.
</code></pre>

<p>The problem with this solution, of course, is the dangling pointer during the read path.
When the ownership over the pointer is managed by reload thread, we can not know when the read threads finish accessing it and it can be safely deleted. This is a classic example where shared_ptr will come to rescue:</p>

<pre><code class="language-cpp">
shared_ptr&lt;Index&gt; index_ptr_;

// Query Thread
shared_ptr&lt;Index&gt; local_copy = atomic_load(&amp;index_ptr_);
auto res = local_copy-&gt;Query(arg);
...................

// Reload thread.
std::shared_ptr&lt;Index&gt; new_index = make_shared&lt;Index&gt;(); // Create another index object.
new_index-&gt;UpdateFromFile(file_name);

auto prev = atomic_exchange(&amp;index_ptr_, new_index);  // Swap the pointers.
prev.reset();  // or just goes out of scope. In any case we reduce reference count
               // to the old Index.
</code></pre>

<p>shared_ptr provides built-in atomicity guarantees when incrementing/decrementing its reference count but not when the contents of shared_ptr are fully replaced with the new object instance.
Therefore we must use special functions <code>atomic_exchange</code> and <code>atomic_load</code> that provide atomicity guarantees for whole shared_ptr object. In other words we must use the atomic transaction when swapping shared_ptr. <code>atomic_load</code> is just for synchronizing the read with this transaction.</p>

<p>Unfortunately the approach above has 2 problems:</p>

<ol>
<li>gcc 4.8 does not support <code>atomic_exchange</code> for shared_ptr. Even though the code builds it won&rsquo;t be atomic.</li>
<li>In versions where <code>atomic_exchange</code> is implemented for shared_ptr it&rsquo;s usually done with a global lock shared by potentially several instances of shared_ptr. In other words <code>atomic_exchange</code>has suboptimal performance.</li>
</ol>

<p>Experimental library of C++ has <code>std::experimental::atomic_shared_ptr</code> which is designed to overcome the latter issue but it&rsquo;s not in the standard yet. So for now I suggest to use a shared lock which can protect shared_ptr. It might be better to use a cheap spinlock here because we just need to provide atomicity for writing into few memory cells.</p>

<p>I suggest to use an excellent <a href="https://github.com/facebook/folly/blob/master/folly/RWSpinLock.h">Folly&rsquo;s RWSpinLock</a>. Lately they added <a href="https://github.com/facebook/folly/blob/master/folly/SharedMutex.h">SharedMutex</a> lock but I&rsquo;ve not tried it yet.
So the final version (with RWSpinLock) might look like this:</p>

<pre><code class="language-cpp">RWSpinLock index_lock_;
shared_ptr&lt;Index&gt; index_ptr_;

// Query Thread
index_lock_.lock_shared();
shared_ptr&lt;Index&gt; local_copy = index_ptr_;
index_lock_.unlock_shared();

auto res = local_copy-&gt;Query(arg);
..................

// Reload thread.
std::shared_ptr&lt;Index&gt; new_index = make_shared&lt;Index&gt;(); // Create another index object.
new_index-&gt;UpdateFromFile(file_name);

index_lock_.lock();
index_ptr_.swap(new_index);
index_lock_.unlock();

new_index.reset();  // or just goes out of scope. In any case we reduce reference count
                    // to the old Index.
</code></pre>

<p>Please note that it&rsquo;s important to limit locked sections only to pointer changes. Anything else should be outside of lock to reduce the contention. This is why I do not use lock guards in the section above - I want to mark locking explicitly in most straighforward manner. I&rsquo;ve seen lots of cases where lock guards were used and it caused huge contention after very innocent code changes were applied later.</p>

<p>It is guaranteed that the read thread protects the lifespan of the index via the local_copy object it holds and it&rsquo;s enough to use shared lock when creating <code>local_copy</code> because we do not change the internal contents of <code>index_ptr_</code> - just increase the reference count which is atomic.</p>

<h3 id="quiescent-state-based-reclamation">Quiescent State-Based Reclamation</h3>

<p>Jeff Preshing in his <a href="http://preshing.com/20160726/using-quiescent-states-to-reclaim-memory/">blog post</a> tackles similar problem but he solves resource deletion issue by using GC method called <em>quiescent state-based reclamation</em> (QSBR). Yeah, I needed to look up word <em>quiescent</em> in the dictionary as well. It means &ldquo;in state of inactivity or dormancy&rdquo;. Basically QSBR postpones resource deletion to a time when all the possible threads finished their tasks. Then nothing references the stale resource and it&rsquo;s safe to delete it.</p>

<p>QSBR requires thread cooperation at framework level, i.e. each thread needs to register itself with QSBR manager, and notify it every time it runs a task or finishes it. This way QSBR manager can know when the process has quiescent states and no user-level tasks are running. During this state it runs all the piled deletion callbacks from the last period. The sketch code with this solution will look similar to our first naive version:</p>

<pre><code class="language-cpp">
std::atomic&lt;Index*&gt; index_ptr_;

// Query Thread
// Called by framework:
QSBR()-&gt;StartTask();
///

// This load can return either new instance or the old one. Both are fine.
Index* index = index_ptr_-&gt;load();
auto res = index-&gt;Query(arg);
...
// Called by framework:
QSBR()-&gt;EndTask();   // marks end of user-level task for this thread.
.....

///////////////////////////////////////
// Reload thread.
Index* new_index = new Index(); // At this point we have 2 indices in RAM
new_index-&gt;UpdateFromFile(file_name);

new_index = atomic_exchange(&amp;index_ptr_, new_index);  // Swap the pointers.

// Schedules the previous instance for deletion.
// This is the main change. We do not delete the index now but ask to run it
// when it's safe.
QSBR()-&gt;Schedule([new_index] { delete new_index;});
</code></pre>

<p>The advantage of this approach is that we do not need to worry about ownership issues. Once we build the solution at the framework level it will always help us with freewing resources asynchronously in a safe manner. Another advantage is that it&rsquo;s faster. We do not need to lock anything per resource, instead the framework provides unified lockless approach for similar problems.</p>

<p>In Jeff&rsquo;s example his QSBR implementation breaks timeline into discrete intervals. All the threads that run tasks during specific interval register themselves before running user-level tasks and unregister afterwards. Once all the threads have been unregistered for a interval, it can be <code>cleaned</code> by running its pending GC callbacks.</p>

<p>I do not know any other methods for providing responsive reads during data reloads. If you know any - please write in comments.</p>
        </div>
        <footer class="article-footer">
    <a data-url="http://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/" data-id="88f7f46386a436887c0e105d375a6913" class="article-share-link">
        <i class="fa fa-share"></i>
        Share
    </a>
    
    <a href="http://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/#disqus_thread" class="article-comment-link">
        Comments
    </a>
    

    <script>
    (function ($) {
        
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
    </script>
</footer>

    </div>

    
<nav id="article-nav">
    
    <a href="http://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Older
      </strong>
      <div class="article-nav-title">How to serialize integers into memory</div>
    </a>
    

    
    <a href="http://www.romange.com/2017/11/02/implementing-cheap-and-precise-clock/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">
          Newer
      </strong>
      <div class="article-nav-title">Implementing cheap and precise clock</div>
    </a>
    
</nav>


</article>


<section id="comments">
    <div id="disqus_thread">
        <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "romange" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
</section>


    </section>

   	
    	<aside id="sidebar">
    
<div class="widget-wrap">
    <h3 class="widget-title">
        Recents
    </h3>
    <div class="widget">
        <ul id="recent-post">
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="http://www.romange.com/2018/07/12/seastar---asynchronous-c---framework/" class="title">Seastar - Asynchronous C&#43;&#43; framework</a></p>
                    <p class="item-date">
                        <time datetime="2018-07-12 20:45:24 &#43;0300 IDT" itemprop="datePublished">Jul 12nd 2018</time>
                    </p>
                </div>
            </li>
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="http://www.romange.com/2017/11/02/implementing-cheap-and-precise-clock/" class="title">Implementing cheap and precise clock</a></p>
                    <p class="item-date">
                        <time datetime="2017-11-02 13:37:51 &#43;0200 IST" itemprop="datePublished">Nov 2nd 2017</time>
                    </p>
                </div>
            </li>
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="http://www.romange.com/2017/09/29/reloading-data-structures-under-high-throughput/" class="title">Reloading data structures under high throughput</a></p>
                    <p class="item-date">
                        <time datetime="2017-09-29 15:46:55 &#43;0300 IDT" itemprop="datePublished">Sep 29nd 2017</time>
                    </p>
                </div>
            </li>
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="http://www.romange.com/2017/09/26/how-to-serialize-integers-into-memory/" class="title">How to serialize integers into memory</a></p>
                    <p class="item-date">
                        <time datetime="2017-09-26 22:46:30 &#43;0300 IDT" itemprop="datePublished">Sep 26nd 2017</time>
                    </p>
                </div>
            </li>
            
            <li>
                

                <div class="item-inner">
                    
                    
                    
                    <p class="item-title"><a href="http://www.romange.com/2017/09/26/my-first-post/" class="title">My first post</a></p>
                    <p class="item-date">
                        <time datetime="2017-09-26 16:16:40 &#43;0300 IDT" itemprop="datePublished">Sep 26nd 2017</time>
                    </p>
                </div>
            </li>
            
        </ul>
    </div>
</div>


    





    


<div class="widget-wrap">
    <h3 class="widget-title">
        Tags
    </h3>
    <div class="widget">
        <ul class="category-list">
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/asynchronous">
                    asynchronous
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/backend">
                    backend
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/blogging">
                    blogging
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/c&#43;&#43;">
                    c&#43;&#43;
                </a>
                <span class="category-list-count">3</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/code-generation">
                    code-generation
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/concurrency">
                    concurrency
                </a>
                <span class="category-list-count">2</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/linux">
                    linux
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/posix">
                    posix
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/programming">
                    programming
                </a>
                <span class="category-list-count">1</span>
            </li>
            
            <li class="category-list-item">
                
                <a class="category-list-link" href="http://www.romange.com/tags/seastar">
                    seastar
                </a>
                <span class="category-list-count">1</span>
            </li>
            
        </ul>
    </div>
</div>




    


<div class="widget-wrap">
    <h3 class="widget-title">
        Tag cloud
    </h3>
    <div class="widget tagcloud">
        
        
        <a href="http://www.romange.com/tags/asynchronous" style="font-size: 12px;">asynchronous</a>
        
        
        <a href="http://www.romange.com/tags/backend" style="font-size: 12px;">backend</a>
        
        
        <a href="http://www.romange.com/tags/blogging" style="font-size: 12px;">blogging</a>
        
        
        <a href="http://www.romange.com/tags/c&#43;&#43;" style="font-size: 12px;">c&#43;&#43;</a>
        
        
        <a href="http://www.romange.com/tags/code-generation" style="font-size: 12px;">code-generation</a>
        
        
        <a href="http://www.romange.com/tags/concurrency" style="font-size: 12px;">concurrency</a>
        
        
        <a href="http://www.romange.com/tags/linux" style="font-size: 12px;">linux</a>
        
        
        <a href="http://www.romange.com/tags/posix" style="font-size: 12px;">posix</a>
        
        
        <a href="http://www.romange.com/tags/programming" style="font-size: 12px;">programming</a>
        
        
        <a href="http://www.romange.com/tags/seastar" style="font-size: 12px;">seastar</a>
        
    </div>
</div>





    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

    
	</div>
</div>

<footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018
      Roman Gershman
    </div>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-107146718-1', 'auto');
ga('send', 'pageview');
</script>

<script src="http://www.romange.com/fancybox/jquery.fancybox.pack.js"></script>
<script src="http://www.romange.com/js/script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>


<script>hljs.initHighlightingOnLoad();</script>





</body>
</html>